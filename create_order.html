<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create New Order - PharmaManage</title>
    <!-- Link to Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Link to External CSS -->
    <link rel="stylesheet" href="create_order.css">
</head>
<body>
    <!-- Navigation Bar (Same as index.html) -->
    <nav class="navbar">
        <div class="nav-container">
            <!-- Logo/Icon and Brand Name -->
            <a href="index.html" class="nav-logo">
                <i class="fas fa-pills fa-2x"></i>
                <span class="nav-title">PharmaManage</span>
            </a>

            <!-- Search Bar -->
            <div class="nav-search">
                <input type="text" id="searchInput" placeholder="Search products..." onkeyup="searchProducts()">
                <button type="submit"><i class="fas fa-search"></i></button>
            </div>

            <!-- Navigation Links -->
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="index.html" class="nav-link">Home</a>
                </li>
                <li class="nav-item">
                    <a href="supplier.html" class="nav-link">Supplier Page</a>
                </li>
                <li class="nav-item">
                    <a href="admin.html" class="nav-link">Admin Page</a>
                </li>
            </ul>

            <!-- Mobile Menu Icon -->
            <div class="nav-icon" onclick="toggleMenu()">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <section class="create-order-section">
            <h2>Create New Order</h2>
            <div class="supplier-info">
                <p><strong>Supplier ID:</strong> <span id="supplierId">SUP001</span></p>
                <p><strong>Supplier Name:</strong> <span id="supplierName">ABC Pharmaceuticals</span></p>
            </div>
            <table class="inventory-table" id="orderTable">
                <thead>
                    <tr>
                        <th>Product Name</th>
                        <th>Brand Name</th>
                        <th>Strength</th>
                        <th>Dosage Form</th>
                        <th>Quantity</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Example Product Rows -->
                    <tr>
                        <td>Paracetamol 500mg Tablets</td>
                        <td>ABC Pharma</td>
                        <td>500mg</td>
                        <td>Tablet</td>
                        <td class="quantity">0</td>
                        <td>
                            <button class="increase-btn" onclick="increaseQuantity(this)">+</button>
                            <button class="decrease-btn" onclick="decreaseQuantity(this)">-</button>
                        </td>
                    </tr>
                    <tr>
                        <td>Amoxicillin 250mg Capsules</td>
                        <td>ABC Pharma</td>
                        <td>250mg</td>
                        <td>Capsule</td>
                        <td class="quantity">0</td>
                        <td>
                            <button class="increase-btn" onclick="increaseQuantity(this)">+</button>
                            <button class="decrease-btn" onclick="decreaseQuantity(this)">-</button>
                        </td>
                    </tr>
                    <tr>
                        <td>Ibuprofen 200mg Tablets</td>
                        <td>ABC Pharma</td>
                        <td>200mg</td>
                        <td>Tablet</td>
                        <td class="quantity">0</td>
                        <td>
                            <button class="increase-btn" onclick="increaseQuantity(this)">+</button>
                            <button class="decrease-btn" onclick="decreaseQuantity(this)">-</button>
                        </td>
                    </tr>
                    <!-- Add more product rows as needed -->
                </tbody>
            </table>
            <div class="confirm-order">
                <button class="confirm-order-btn" onclick="confirmOrder()">Confirm Order</button>
            </div>
        </section>
    </main>

    <!-- Footer (Same as index.html) -->
    <footer class="footer">
        <div class="footer-container">
            <p>&copy; 2024 PharmaManage. All rights reserved.</p>
            <p>Contact us: info@pharmamanage.com | +1 (234) 567-890</p>
        </div>
    </footer>

    <!-- Link to External JavaScript -->
    <script src="scripts.js"></script>
    

    <script>
        // Function to get query parameters
        function getQueryParams() {
            const params = {};
            const queryString = window.location.search.substring(1);
            const pairs = queryString.split("&");
            for (let i = 0; i < pairs.length; i++) {
                const pair = pairs[i].split("=");
                params[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || '');
            }
            return params;
        }

        // Example data for suppliers and products
        const suppliers = {
            'SUP001': {
                name: 'ABC Pharmaceuticals',
                products: [
                    {
                        name: 'Paracetamol 500mg Tablets',
                        brand: 'ABC Pharma',
                        strength: '500mg',
                        dosageForm: 'Tablet'
                    },
                    {
                        name: 'Amoxicillin 250mg Capsules',
                        brand: 'ABC Pharma',
                        strength: '250mg',
                        dosageForm: 'Capsule'
                    },
                    {
                        name: 'Ibuprofen 200mg Tablets',
                        brand: 'ABC Pharma',
                        strength: '200mg',
                        dosageForm: 'Tablet'
                    },
                    // Add more products as needed
                ]
            },
            // Add more suppliers as needed
        };

        // Populate supplier info and products on page load
        document.addEventListener('DOMContentLoaded', () => {
            const params = getQueryParams();
            const supplierId = params['supplierId'] || 'SUP001'; // Default to SUP001
            const supplier = suppliers[supplierId];

            // Set supplier info
            document.getElementById('supplierId').textContent = supplierId;
            document.getElementById('supplierName').textContent = supplier.name;

            // Populate products
            const orderTable = document.getElementById('orderTable').getElementsByTagName('tbody')[0];
            orderTable.innerHTML = ''; // Clear existing rows

            supplier.products.forEach(product => {
                const row = orderTable.insertRow();
                
                const cellName = row.insertCell(0);
                cellName.textContent = product.name;
                
                const cellBrand = row.insertCell(1);
                cellBrand.textContent = product.brand;
                
                const cellStrength = row.insertCell(2);
                cellStrength.textContent = product.strength;
                
                const cellDosage = row.insertCell(3);
                cellDosage.textContent = product.dosageForm;
                
                const cellQuantity = row.insertCell(4);
                cellQuantity.className = 'quantity';
                cellQuantity.textContent = '0';
                
                const cellActions = row.insertCell(5);
                cellActions.innerHTML = `
                    <button class="increase-btn" onclick="increaseQuantity(this)">+</button>
                    <button class="decrease-btn" onclick="decreaseQuantity(this)">-</button>
                `;
            });
        });
    </script>


</body>
</html>
